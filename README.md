# آزمایش سوم: BDD
## پاسخ پرسش‌ها
هنگام اجرای Scenario Outline ها خطای Undefined Step ایجاد می‌شود. علت این مسئله منفی بودن برخی اعداد ورودی و منطبق نبودن با الگوی regex موجود است. برای حل این مشکل الگوی regex مورد نیاز برای اعداد منفی نیز به پروژه اضافه می‌‎گردد.

## مراحل آزمایش
در ابتدا، همانطور که در مثال موجود در دستور کار گفته شده است، باید یک پروژه بر مبنای maven ساخته شود. در شکل زیر این کار انجام شده و وابستگی‌های لازم (dependencies) نظیر cucumber به پروژه اضافه شده است.

![0](https://github.com/soleyman79/SE_Lab3/assets/59166192/d0b1e59b-4ecb-4356-a6f4-7c49d3320887)

در تصویر زیر، با استفاده از دستور git init، گیت در پروژه initialize شده است و در ادامه، دستور git status این موضوع را تایید می‌کند.

![1](https://github.com/soleyman79/SE_Lab3/assets/59166192/206e5cb8-2637-480b-ac98-afd40902121f)

در تصویر زیر، نمونه‌ای از فرایند stage کردن فایل‌های تغییر یافته و زدن commit نشان داده شده است:

![2](https://github.com/soleyman79/SE_Lab3/assets/59166192/63378497-2b12-47c7-9265-52d0d7deed6d)

در تصویر زیر، سرور ریموت به پروژه محلی وصل شده است و روی شاخه main، تغییرات پوش شده اند:

![3](https://github.com/soleyman79/SE_Lab3/assets/59166192/4db14b87-c19a-42c1-b1b3-95949fdc1935)

در ادامه، یک کلاس RunnerTest ایجاد شده است تا قابلیت ایجاد و اجرای تست‌ها را داشته باشد:

![4](https://github.com/soleyman79/SE_Lab3/assets/59166192/711f85dd-eaec-471b-9728-53718326daf1)

در قدم بعد، گزینه CucumberOptions اضافه شده است و دایرکتوری features هم به عنوان آرگومان features به آن پاس داده شده است تا Cucumber بتواند این دایرکتوری و محتواهای داخلش را بشناسد و به آنها دسترسی داشته باشد. در واقع این قسمت همان بخش اصلی BDD است که در آن نیازمندی ها به زبانی نزدیک به زبان طبیعی توصیف شده و پس از آن به کمک Cucumber تفسیر و به تست تبدیل می شود:

![5](https://github.com/soleyman79/SE_Lab3/assets/59166192/dea9c347-5095-4f9c-be5b-3ba7ec4b27ff)

در ادامه، مطابق با نمونه قرار داده شده در مثال دستور کار، سناریوها با کلیدواژه‌های Given, When و Then نوشته شده‌اند و یک جدول examples برای آزمایش حالات مختلف قرار داده شده‌است. دقت شود که نام ستون‌های این جدول، باید با کلمات آورده شده در سناریو یکسان باشد:

![6](https://github.com/soleyman79/SE_Lab3/assets/59166192/2ade3eed-b494-40d9-a855-f9242a24a1ff)

پیاده‌سازی کلاس ماشین حساب با چهار متد اصلی آن در شکل زیر آورده شده است. همانطور که در کلاس گفته شده است، در پیاده‌سازی توان فقط از متد ضرب استفاده شده است:

![7](https://github.com/soleyman79/SE_Lab3/assets/59166192/af8ff9b8-a362-4378-afa2-424d530d176e)

کلاس StepDefs مطابق شکل زیر پیاده‌سازی شده است. برای نمونه، مطابق تصویر زمانی که عملگر داده شده + باشد (تشخیص این موضوع توسط کلیدواژه When انجام می‌شود)، تابع runAdd صدا زده می‌شود که خود این تابع، متد add موجود در کلاس ماشین حساب را فراخوانی می‌کند. برای تمام عملگرها به همین صورت این کار تکرار می‌شود که تصویر آنها به علت اختصار آورده نشده است. در قسمتی از کلاس StepDefs، با استفاده از کلیدواژه Given، عملوندهای اول و دوم عملیات مشخص و ذخیره می‌شوند تا به متدهای کلاس ماشین حساب پاس داده شوند:

![8](https://github.com/soleyman79/SE_Lab3/assets/59166192/624674bf-dd3f-4a23-8f49-865a54402840)

در ادامه، در فایل feature ای که ساخته شده بود، یک جدول examples قرار داده شده است که در آن سعی شده است به ازای هر عملیات، حدود ۸ نمونه تست قرار داده شود و این نمونه‌ها تمام حالات ممکن را پوشش دهند.

![9](https://github.com/soleyman79/SE_Lab3/assets/59166192/b342763f-c406-4d7c-b0ab-3d902c1f2f58)

در انتها در تصویر زیر مشاهده می‌شود که تمام 34 سناریو و حالات ممکن پاس شده اند و مشکلی وجود ندارد:

![10](https://github.com/soleyman79/SE_Lab3/assets/59166192/96d55547-b808-45f8-b4cb-382afa79858a)





